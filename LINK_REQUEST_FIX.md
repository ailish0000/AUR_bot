# üîó –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú –° –ó–ê–ü–†–û–°–ê–ú–ò –°–°–´–õ–û–ö

## üéØ **–ü—Ä–æ–±–ª–µ–º—ã**
–í –¥–∏–∞–ª–æ–≥–µ –±—ã–ª–∏ –≤—ã—è–≤–ª–µ–Ω—ã –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ–±–ª–µ–º —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –∑–∞–ø—Ä–æ—Å–æ–≤ —Å—Å—ã–ª–æ–∫:

1. **–ó–∞–ø—Ä–æ—Å "–Ω—É–∂–Ω–∞ —Å—Å—ã–ª–∫–∞" –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–ª—Å—è** –∫–∞–∫ Intent.PRODUCT_LINK
2. **–ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ "–ú–∞–≥–Ω–∏–π –≤–µ—á–µ—Ä" –æ—Ç–ø—Ä–∞–≤–ª—è–ª—Å—è "–ú–∞–≥–Ω–∏–π –ü–ª—é—Å"** - –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç
3. **–ë–æ—Ç –≥–æ–≤–æ—Ä–∏–ª "–Ω–µ –º–æ–≥—É –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫–∏"** –≤–º–µ—Å—Ç–æ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å—Å—ã–ª–∫–∏
4. **–û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∞ –∫–Ω–æ–ø–∫–∞ —Å–æ —Å—Å—ã–ª–∫–æ–π** –≤ –æ—Ç–≤–µ—Ç–∞—Ö

### **–ü—Ä–∏–º–µ—Ä –ø—Ä–æ–±–ª–µ–º–Ω–æ–≥–æ –¥–∏–∞–ª–æ–≥–∞:**
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: "–°–ø–∞—Å–∏–±–æ, –Ω—É–∂–Ω–∞ —Å—Å—ã–ª–∫–∞"
–ë–æ—Ç: "–ò–∑–≤–∏–Ω–∏—Ç–µ, –Ω–æ —è –Ω–µ –º–æ–≥—É –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫–∏." ‚ùå

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: "–ü—Ä–∏—à–ª–∏ —Å—Å—ã–ª–∫—É –Ω–∞ –ú–∞–≥–Ω–∏–π –≤–µ—á–µ—Ä"
–ë–æ—Ç: "üåø –ú–∞–≥–Ω–∏–π –ü–ª—é—Å (Mg Plus)" ‚ùå (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç)
```

## ‚úÖ **–í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è**

### **1. –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ —Å—Å—ã–ª–æ–∫**

–í `nlp_processor.py` –¥–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã:
```python
Intent.PRODUCT_LINK: [
    # –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã...
    r"–Ω—É–∂–Ω–∞.*—Å—Å—ã–ª–∫–∞",                    # "–Ω—É–∂–Ω–∞ —Å—Å—ã–ª–∫–∞"
    r"–Ω—É–∂–Ω–∞.*—Å—Å—ã–ª–∫–∞.*–Ω–∞.*[–∞-—è]+",        # "–Ω—É–∂–Ω–∞ —Å—Å—ã–ª–∫–∞ –Ω–∞ –º–∞–≥–Ω–∏–π"
    r"–ø—Ä–∏—à–ª–∏.*—Å—Å—ã–ª–∫—É.*–Ω–∞.*[–∞-—è]+"        # "–ø—Ä–∏—à–ª–∏ —Å—Å—ã–ª–∫—É –Ω–∞ –º–∞–≥–Ω–∏–π –≤–µ—á–µ—Ä"
]
```

### **2. –£–ª—É—á—à–µ–Ω –∞–ª–≥–æ—Ä–∏—Ç–º –ø–æ–∏—Å–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤**

–í `bot.py` —Ñ—É–Ω–∫—Ü–∏–∏ `handle_product_link_request()`:

**–ë—ã–ª–æ:**
```python
# –ü–æ–∏—Å–∫ –ø–æ –ø–µ—Ä–≤–æ–º—É —Å–æ–≤–ø–∞–¥–µ–Ω–∏—é –ª—é–±–æ–≥–æ —Å–ª–æ–≤–∞
for word in text_words:
    if len(word) > 2 and word in product:
        found_products.append(item)
        break
```

**–°—Ç–∞–ª–æ:**
```python
# –§–∏–ª—å—Ç—Ä—É–µ–º —Å–ª—É–∂–µ–±–Ω—ã–µ —Å–ª–æ–≤–∞
meaningful_words = [word for word in text_words if len(word) > 2 and word not in 
                   ["—Å—Å—ã–ª–∫—É", "–ø—Ä–∏—à–ª–∏", "–¥–∞–π", "–ø–æ–∫–∞–∂–∏", "–Ω—É–∂–Ω–∞", "—Ö–æ—á—É", "–≥–¥–µ", "–∫–∞–∫"]]

# –°—á–∏—Ç–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π —Å–ª–æ–≤
matches = 0
for word in meaningful_words:
    if word in product:
        matches += 1

# –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π
found_products.sort(key=lambda x: x[1], reverse=True)
```

### **3. –õ–æ–≥–∏–∫–∞ –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏–∏**

–¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞:
1. **–ò—Å–∫–ª—é—á–∞–µ—Ç —Å–ª—É–∂–µ–±–Ω—ã–µ —Å–ª–æ–≤–∞** ("—Å—Å—ã–ª–∫—É", "–ø—Ä–∏—à–ª–∏", "–¥–∞–π")
2. **–°—á–∏—Ç–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π** –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–æ–º –∏ –Ω–∞–∑–≤–∞–Ω–∏–µ–º –ø—Ä–æ–¥—É–∫—Ç–∞
3. **–°–æ—Ä—Ç–∏—Ä—É–µ—Ç –ø–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏** - –ø—Ä–æ–¥—É–∫—Ç —Å –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π –∏–¥–µ—Ç –ø–µ—Ä–≤—ã–º

## üß™ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É–ª—É—á—à–µ–Ω–∏–π**

### **–¢–µ—Å—Ç 1: "–Ω—É–∂–Ω–∞ —Å—Å—ã–ª–∫–∞"**
```
–ó–∞–ø—Ä–æ—Å: "–Ω—É–∂–Ω–∞ —Å—Å—ã–ª–∫–∞"
–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ –†–∞—Å–ø–æ–∑–Ω–∞–µ—Ç—Å—è –∫–∞–∫ Intent.PRODUCT_LINK
```

### **–¢–µ—Å—Ç 2: "–ü—Ä–∏—à–ª–∏ —Å—Å—ã–ª–∫—É –Ω–∞ –ú–∞–≥–Ω–∏–π –≤–µ—á–µ—Ä"**
```
–ó–∞–ø—Ä–æ—Å: "–ü—Ä–∏—à–ª–∏ —Å—Å—ã–ª–∫—É –Ω–∞ –ú–∞–≥–Ω–∏–π –≤–µ—á–µ—Ä"
–ê–Ω–∞–ª–∏–∑:
- meaningful_words: ["–º–∞–≥–Ω–∏–π", "–≤–µ—á–µ—Ä"]
- "–ú–∞–≥–Ω–∏–π –ü–ª—é—Å": 1 —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ ("–º–∞–≥–Ω–∏–π")
- "–ú–∞–≥–Ω–∏–π-–í–µ—á–µ—Ä": 2 —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è ("–º–∞–≥–Ω–∏–π", "–≤–µ—á–µ—Ä")
–†–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ –í—ã–±–∏—Ä–∞–µ—Ç—Å—è "–ú–∞–≥–Ω–∏–π-–í–µ—á–µ—Ä" (–±–æ–ª—å—à–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π)
```

### **–¢–µ—Å—Ç 3: "–î–∞–π —Å—Å—ã–ª–∫—É –Ω–∞ –ê—Ä–≥–µ–Ω—Ç –ú–∞–∫—Å"**
```
–ó–∞–ø—Ä–æ—Å: "–î–∞–π —Å—Å—ã–ª–∫—É –Ω–∞ –ê—Ä–≥–µ–Ω—Ç –ú–∞–∫—Å"
–ê–Ω–∞–ª–∏–∑:
- meaningful_words: ["–∞—Ä–≥–µ–Ω—Ç", "–º–∞–∫—Å"]
- "–ê—Ä–≥–µ–Ω—Ç-–ú–∞–∫—Å": 2 —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è
–†–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ –í—ã–±–∏—Ä–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç
```

## üîß **–ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã**

### **nlp_processor.py**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã 3 –Ω–æ–≤—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –¥–ª—è Intent.PRODUCT_LINK
- ‚úÖ –£–ª—É—á—à–µ–Ω–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ "–Ω—É–∂–Ω–∞ —Å—Å—ã–ª–∫–∞"

### **bot.py**
- ‚úÖ –£–ª—É—á—à–µ–Ω –∞–ª–≥–æ—Ä–∏—Ç–º –ø–æ–∏—Å–∫–∞ –≤ `handle_product_link_request()`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å–ª—É–∂–µ–±–Ω—ã—Ö —Å–ª–æ–≤
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –ø–æ–¥—Å—á–µ—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏

## üéØ **–†–µ–∑—É–ª—å—Ç–∞—Ç**

### **–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:**
```
"–Ω—É–∂–Ω–∞ —Å—Å—ã–ª–∫–∞" -> ‚ùå LLM –æ—Ç–≤–µ—Ç "–Ω–µ –º–æ–≥—É –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫–∏"
"–ú–∞–≥–Ω–∏–π –≤–µ—á–µ—Ä" -> ‚ùå –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è "–ú–∞–≥–Ω–∏–π –ü–ª—é—Å" (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ)
```

### **–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:**
```
"–Ω—É–∂–Ω–∞ —Å—Å—ã–ª–∫–∞" -> ‚úÖ –†–∞—Å–ø–æ–∑–Ω–∞–µ—Ç—Å—è –∫–∞–∫ –∑–∞–ø—Ä–æ—Å —Å—Å—ã–ª–∫–∏
"–ú–∞–≥–Ω–∏–π –≤–µ—á–µ—Ä" -> ‚úÖ –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è "–ú–∞–≥–Ω–∏–π-–í–µ—á–µ—Ä" (–ø—Ä–∞–≤–∏–ª—å–Ω–æ)
```

### **–¢–µ–ø–µ—Ä—å –¥–∏–∞–ª–æ–≥ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ:**
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: "–°–ø–∞—Å–∏–±–æ, –Ω—É–∂–Ω–∞ —Å—Å—ã–ª–∫–∞"
–ë–æ—Ç: "üìã –ù–∞ –∫–∞–∫–æ–π –ø—Ä–æ–¥—É–∫—Ç –Ω—É–∂–Ω–∞ —Å—Å—ã–ª–∫–∞?
1. –ú–∞–≥–Ω–∏–π –ü–ª—é—Å (Mg Plus)
2. –ú–∞–≥–Ω–∏–π –¢–∞–±—Å (Mg Tabs)
3. –ú–∞–≥–Ω–∏–π-–í–µ—á–µ—Ä (Mg-Evening)
4. –†—É–º–∞—Ä–∏–Ω –ö–∞–ª—å—Ü–∏–π (Roomarine Calcium)
üí¨ –ù–∞–ø–∏—à–∏—Ç–µ –Ω–æ–º–µ—Ä –∏–ª–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞"

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: "–ü—Ä–∏—à–ª–∏ —Å—Å—ã–ª–∫—É –Ω–∞ –ú–∞–≥–Ω–∏–π –≤–µ—á–µ—Ä"
–ë–æ—Ç: "üåø –ú–∞–≥–Ω–∏–π-–í–µ—á–µ—Ä (Mg-Evening)
üìù –ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –ø–∏—â–µ–≤–∞—è –¥–æ–±–∞–≤–∫–∞ —Å –º–∞–≥–Ω–∏–µ–º –¥–ª—è –≤–µ—á–µ—Ä–Ω–µ–≥–æ –ø—Ä–∏–µ–º–∞.
[üìñ –ü–æ–¥—Ä–æ–±–Ω–µ–µ –Ω–∞ —Å–∞–π—Ç–µ]" ‚úÖ
```

## üìã **–ò—Ç–æ–≥**

‚úÖ **–í—Å–µ –ø—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–µ–Ω—ã**
‚úÖ **–£–ª—É—á—à–µ–Ω–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ —Å—Å—ã–ª–æ–∫**
‚úÖ **–ü–æ–≤—ã—à–µ–Ω–∞ —Ç–æ—á–Ω–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤**
‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏–∏ –ø–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏**
‚úÖ **–ò—Å–∫–ª—é—á–µ–Ω—ã –ª–æ–∂–Ω—ã–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è –Ω–∞ —Å–ª—É–∂–µ–±–Ω—ã–µ —Å–ª–æ–≤–∞**

---
*–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ: 2025-01-24*

