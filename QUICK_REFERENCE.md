# üöÄ –ë—ã—Å—Ç—Ä–∞—è —à–ø–∞—Ä–≥–∞–ª–∫–∞ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

## üìã –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã

| –§–∞–π–ª | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –ö–æ–≥–¥–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å |
|------|------------|-------------------|
| `knowledge_base.json` | üìö –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π –æ –ø—Ä–æ–¥—É–∫—Ç–∞—Ö | –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏/–∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ |
| `nlp_processor.py` | üß† –ù–∞—Å—Ç—Ä–æ–π–∫–∏ NLP | –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Å–∏–Ω–æ–Ω–∏–º–æ–≤/–Ω–∞–º–µ—Ä–µ–Ω–∏–π |
| `bot.py` | ü§ñ –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ –±–æ—Ç–∞ | –†–µ–¥–∫–æ, —Ç–æ–ª—å–∫–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª |
| `.env` | üîê –°–µ–∫—Ä–µ—Ç–Ω—ã–µ –∫–ª—é—á–∏ | –ü—Ä–∏ —Å–º–µ–Ω–µ —Ç–æ–∫–µ–Ω–æ–≤ API |

## üîÑ –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –ø—Ä–æ–¥—É–∫—Ç

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ JSON
```json
{
  "id": "unique_product_id",
  "product": "–ù–∞–∑–≤–∞–Ω–∏–µ –ü—Ä–æ–¥—É–∫—Ç–∞",
  "category": "–ö–∞—Ç–µ–≥–æ—Ä–∏—è",
  "description": "–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ...",
  "benefits": ["–ø–æ–∫–∞–∑–∞–Ω–∏–µ 1", "–ø–æ–∫–∞–∑–∞–Ω–∏–µ 2", "–ø–æ–∫–∞–∑–∞–Ω–∏–µ 3"],
  "composition": "—Å–æ—Å—Ç–∞–≤ –ø—Ä–æ–¥—É–∫—Ç–∞...",
  "dosage": "—Å–ø–æ—Å–æ–± –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è...",
  "contraindications": "–ø—Ä–æ—Ç–∏–≤–æ–ø–æ–∫–∞–∑–∞–Ω–∏—è..."
}
```

### 2. –î–æ–±–∞–≤—å—Ç–µ –≤ knowledge_base.json
- –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª
- –î–æ–±–∞–≤—å—Ç–µ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é –≤ –º–∞—Å—Å–∏–≤
- –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≤ UTF-8

### 3. –î–æ–∂–¥–∏—Ç–µ—Å—å –ø–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ (10 —Å–µ–∫)
```
# –í –ª–æ–≥–∞—Ö –ø–æ—è–≤–∏—Ç—Å—è:
üîÑ –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ knowledge_base.json
‚úÖ –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π –æ–±–Ω–æ–≤–ª–µ–Ω–∞: X —á–∞–Ω–∫–æ–≤ –∏–∑ Y –ø—Ä–æ–¥—É–∫—Ç–æ–≤
```

## üß† –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å —Å–∏–Ω–æ–Ω–∏–º—ã

### –û—Ç–∫—Ä–æ–π—Ç–µ nlp_processor.py, –Ω–∞–π–¥–∏—Ç–µ:
```python
self.synonyms = {
    "–ø—Ä–æ—Å—Ç—É–¥–∞": ["–û–†–í–ò", "–≥—Ä–∏–ø–ø", "–Ω–∞—Å–º–æ—Ä–∫"],
    "—É—Å—Ç–∞–ª–æ—Å—Ç—å": ["–Ω–µ—Ç —Å–∏–ª", "–≤—è–ª–æ—Å—Ç—å", "–∞–ø–∞—Ç–∏—è"],
    # –î–æ–±–∞–≤—å—Ç–µ –∑–¥–µ—Å—å:
    "–Ω–æ–≤–∞—è_–≥—Ä—É–ø–ø–∞": ["—Å–∏–Ω–æ–Ω–∏–º1", "—Å–∏–Ω–æ–Ω–∏–º2"]
}
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

## üéØ –¢–∏–ø—ã –Ω–∞–º–µ—Ä–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

| –ù–∞–º–µ—Ä–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä –≤–æ–ø—Ä–æ—Å–∞ |
|-----------|----------|----------------|
| `–ø–æ–¥–±–æ—Ä_–ø–æ_–ø—Ä–æ–±–ª–µ–º–µ` | –ü–æ–∏—Å–∫ –ø—Ä–æ–¥—É–∫—Ç–∞ –ø–æ —Å–∏–º–ø—Ç–æ–º—É | "–ß—Ç–æ –ø—Ä–∏ –ø—Ä–æ—Å—Ç—É–¥–µ?" |
| `–≤–æ–ø—Ä–æ—Å_–ø–æ_–ø—Ä–∏–º–µ–Ω–µ–Ω–∏—é` | –ö–∞–∫ –ø—Ä–∏–Ω–∏–º–∞—Ç—å –ø—Ä–æ–¥—É–∫—Ç | "–ö–∞–∫ –ø–∏—Ç—å –°–æ–ª–±–µ—Ä—Ä–∏?" |
| `–≤–æ–ø—Ä–æ—Å_–æ_—Å–æ—Å—Ç–∞–≤–µ` | –°–æ—Å—Ç–∞–≤ –ø—Ä–æ–¥—É–∫—Ç–∞ | "–ß—Ç–æ –≤—Ö–æ–¥–∏—Ç –≤ –ë–∏—Ç–µ—Ä–æ–Ω?" |
| `–≤–æ–ø—Ä–æ—Å_–æ_–¥–æ–∑–∏—Ä–æ–≤–∫–µ` | –î–æ–∑–∏—Ä–æ–≤–∫–∞ | "–°–∫–æ–ª—å–∫–æ –∫–∞–ø—Å—É–ª –ø–∏—Ç—å?" |
| `–∂–∞–ª–æ–±–∞` | –ù–µ–¥–æ–≤–æ–ª—å—Å—Ç–≤–æ | "–ü—Ä–æ–¥—É–∫—Ç –Ω–µ –ø–æ–º–æ–≥" |

## üö® –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

### –ö–æ–≥–¥–∞ –∞–¥–º–∏–Ω –ø–æ–ª—É—á–∞–µ—Ç üö® –ü–†–ò–û–†–ò–¢–ï–¢:
- Sentiment: **negative** (–Ω–µ–¥–æ–≤–æ–ª—å—Å—Ç–≤–æ)
- Intent: **–∂–∞–ª–æ–±–∞** (–ø—Ä—è–º–∞—è –∂–∞–ª–æ–±–∞)
- –ö–æ–º–±–∏–Ω–∞—Ü–∏—è: –ø—Ä–æ–¥—É–∫—Ç + –Ω–µ–≥–∞—Ç–∏–≤

### –§–æ—Ä–º–∞—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:
```
üö® –ü–†–ò–û–†–ò–¢–ï–¢ - –ñ–∞–ª–æ–±–∞ –æ—Ç @username (ID: 12345):

–û—Ä–∏–≥–∏–Ω–∞–ª: "–ë–∏—Ç–µ—Ä–æ–Ω-H —Å–æ–≤—Å–µ–º –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç"
–ê–Ω–∞–ª–∏–∑: Intent: –∂–∞–ª–æ–±–∞, Sentiment: negative, Entities: PRODUCT: –ë–∏—Ç–µ—Ä–æ–Ω-H
–û—Ç–≤–µ—Ç –±–æ—Ç–∞: –ü–æ–Ω–∏–º–∞—é –≤–∞—à–µ —Ä–∞–∑–æ—á–∞—Ä–æ–≤–∞–Ω–∏–µ...
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

### –ß—Ç–æ —Å–º–æ—Ç—Ä–µ—Ç—å –≤ –ª–æ–≥–∞—Ö:
```bash
# –•–æ—Ä–æ—à–∏–µ —Å–∏–≥–Ω–∞–ª—ã:
‚úÖ –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π –æ–±–Ω–æ–≤–ª–µ–Ω–∞
üí° –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏–∑ –∫—ç—à–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –æ—Ç–≤–µ—Ç–∞  # 60-70% –æ—Ç–≤–µ—Ç–æ–≤
Intent: –ø–æ–¥–±–æ—Ä_–ø–æ_–ø—Ä–æ–±–ª–µ–º–µ, Sentiment: neutral

# –ü–ª–æ—Ö–∏–µ —Å–∏–≥–Ω–∞–ª—ã:
‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –ë–î
Intent: –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ  # –ú–Ω–æ–≥–æ —Ç–∞–∫–∏—Ö - –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω—ã
üö® –ü–†–ò–û–†–ò–¢–ï–¢ - –ñ–∞–ª–æ–±–∞  # –ß–∞—Å—Ç—ã–µ –∂–∞–ª–æ–±—ã - –ø—Ä–æ–±–ª–µ–º–∞ —Å –ø—Ä–æ–¥—É–∫—Ç–æ–º
```

## üîß –ë—ã—Å—Ç—Ä–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
```bash
python test_enhanced_features.py
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–∞–∑—É –∑–Ω–∞–Ω–∏–π:
```bash
python -c "from enhanced_vector_db import enhanced_vector_db; enhanced_vector_db.index_knowledge()"
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å NLP:
```bash
python -c "
from nlp_processor import nlp_processor
result = nlp_processor.process_message('—Ç–µ—Å—Ç')
print('Intent:', result.intent.value)
"
```

## üö® –†–µ—à–µ–Ω–∏–µ —á–∞—Å—Ç—ã—Ö –ø—Ä–æ–±–ª–µ–º

### –ë–æ—Ç –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç –Ω–æ–≤—ã–π –ø—Ä–æ–¥—É–∫—Ç:
1. ‚úÖ –ü—Ä–æ–¥—É–∫—Ç –¥–æ–±–∞–≤–ª–µ–Ω –≤ knowledge_base.json?
2. ‚úÖ –§–∞–π–ª —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ UTF-8?
3. ‚úÖ –ü—Ä–æ—à–ª–æ 10+ —Å–µ–∫—É–Ω–¥ –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è?
4. üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞

### –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –Ω–∞–º–µ—Ä–µ–Ω–∏–µ:
1. –î–æ–±–∞–≤—å—Ç–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –≤ `nlp_processor.py`
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞

### –ú–µ–¥–ª–µ–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 60-70% –∏–∑ –∫—ç—à–∞)
2. –£–≤–µ–ª–∏—á—å—Ç–µ —Ä–∞–∑–º–µ—Ä –∫—ç—à–∞ –≤ `enhanced_vector_db.py`

### OpenAI –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–ª—é—á –≤ `.env`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–ª–∞–Ω—Å –Ω–∞ https://platform.openai.com/usage
3. –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—Å—è –Ω–∞ fallback —Ä–µ–∂–∏–º

## üì± –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `/start` | –ó–∞–ø—É—Å–∫ –∏ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é |
| `/menu` | –ü–æ–∫–∞–∑–∞—Ç—å –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é |
| `/admin` | –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∞) |

## üîê –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ .env

```env
BOT_TOKEN=your_telegram_bot_token
ADMIN_ID=your_telegram_user_id
QDRANT_URL=https://your-cluster.aws.cloud.qdrant.io:6333
QDRANT_API_KEY=your_qdrant_api_key
OPENAI_API_KEY=your_openai_api_key
```

## üìà –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

### –û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞:
- üéØ 90%+ –≤–æ–ø—Ä–æ—Å–æ–≤ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –Ω–∞–º–µ—Ä–µ–Ω–∏–µ–º
- üíæ 70%+ –æ—Ç–≤–µ—Ç–æ–≤ –∏–∑ –∫—ç—à–∞
- üö® –ú–∞–ª–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- ‚ö° –û—Ç–≤–µ—Ç—ã –∑–∞ 2-3 —Å–µ–∫—É–Ω–¥—ã

### –ù—É–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å:
- ‚ùì –ú–Ω–æ–≥–æ `Intent: –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ`
- üêå –ú–µ–¥–ª–µ–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã (5+ —Å–µ–∫—É–Ω–¥)
- üö® –ß–∞—Å—Ç—ã–µ –∂–∞–ª–æ–±—ã –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç
- üí∏ –í—ã—Å–æ–∫–∏–µ —Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ OpenAI API

## üí° –°–æ–≤–µ—Ç—ã –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

1. **–†–µ–≥—É–ª—è—Ä–Ω–æ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ª–æ–≥–∏** - –¥–æ–±–∞–≤–ª—è–π—Ç–µ –Ω–æ–≤—ã–µ —Å–∏–Ω–æ–Ω–∏–º—ã –∏ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
2. **–°–ª–µ–¥–∏—Ç–µ –∑–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–º–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏** - –±—ã—Å—Ç—Ä–æ —Ä–µ–∞–≥–∏—Ä—É–π—Ç–µ –Ω–∞ –ø—Ä–æ–±–ª–µ–º—ã
3. **–û–±–Ω–æ–≤–ª—è–π—Ç–µ –±–∞–∑—É –∑–Ω–∞–Ω–∏–π** - –¥–æ–±–∞–≤–ª—è–π—Ç–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ —á–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã
4. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `test_enhanced_features.py`

---

**üéØ –ì–ª–∞–≤–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ:** –ß–µ–º –ª—É—á—à–µ –Ω–∞–ø–æ–ª–Ω–µ–Ω–∞ –±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã —Å–∏–Ω–æ–Ω–∏–º—ã, —Ç–µ–º —É–º–Ω–µ–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–æ—Ç!

